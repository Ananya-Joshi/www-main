{{- $currentPage := . -}}
<nav class="uk-visible@m uk-navbar-container" data-uk-navbar>
  <div class="uk-navbar-left">
    <ul class="uk-navbar-nav">
      <li>
        <a class="delphi-text-logo" href="{{ relref . "/" }}">DELPHI</a>
      </li>
      {{ range .Site.Menus.main.ByWeight }}
        <li class="{{ if (eq $currentPage.Section .Identifier) }}nav-active{{ end }}">
          {{ if .HasChildren }}
            <a href="{{ .URL | relLangURL }}">
              {{ partial "menu/item.html" . }}
              {{ partial "font-awesome.html" "solid/angle-down" }}
            </a>
            {{ else }}
            <a href="{{ .URL | relLangURL }}">
              {{ partial "menu/item.html" . }}
            </a>
          {{ end }}
          {{ if .HasChildren }}
            <div class="uk-navbar-dropdown">
              <ul class="uk-nav uk-navbar-dropdown-nav">
                {{ range .Children }}
                  <li><a href="{{ .URL | relLangURL }}">{{ partial "menu/item.html" . }}</a></li>
                {{ end }}
              </ul>
            </div>
          {{ end }}
        </li>
      {{ end }}
    </ul>
  </div>
</nav>

<!-- Mobile nav -->
<nav class="uk-hidden@m mobile-nav">
  {{ partial "delphi-text-logo.html" . }}
  <a class="uk-navbar-toggle" uk-navbar-toggle-icon href=""></a>
  <div uk-dropdown="mode: click" class="dropdown-mobile">
    <ul class="uk-nav uk-navbar-dropdown-nav">
      {{ range .Site.Menus.main.ByWeight }}
        <li class="{{ if .HasChildren }}menu-parent{{ end }} menu-element">
          {{ if .HasChildren }}
            {{ partial "menu/item.html" . }}
            {{ range .Children }}
              <li class="menu-element menu-child">
                <a href="{{ .URL | relLangURL }}">{{ partial "menu/item.html" . }}</a>
              </li>
            {{ end }}
            {{ else }}
            <a href="{{ .URL | relLangURL }}">
              {{ partial "menu/item.html" . }}
            </a>
          {{ end }}
        </li>
      {{ end }}
    </ul>
  </div>
</nav>
